<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  
  <title>005-react | Jiang</title>
  <meta name="author" content="Jiang" />

  
  <meta name="description" content="React1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <meta property="og:title" content="005-react" />
  <meta property="og:site_name" content="Jiang" />

  
  

  
    <meta property="og:image" content="" />
  

  
  <link href="/css/images/favicon.ico" rel="icon" />
  

  <link rel="alternate" href="/atom.xml" title="Jiang" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  


  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Jiang</a></h1>
  <h2><a href="/">I am a computer programmer</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-08-07T15:26:14.302Z"><a href="/2017/08/07/005_react/">005-react</a></time>
      
    </header>
    <div class="entry">
      
        <h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="string">"proxy"</span>: <span class="string">"http://jiangtoutiao.duapp.com/"</span>,</div><div class="line">  <span class="string">"proxy"</span>: <span class="string">"http://localhost:80/"</span>,</div><div class="line"></div><div class="line"><span class="comment">#########   Route  就是路由</span></div><div class="line"></div><div class="line"><span class="comment">##############    react本地打不开，获取不到数据库。把那个重启   npm start     ################</span></div><div class="line"></div><div class="line">git上传要写限制500M那个，要不页面不更新</div><div class="line"></div><div class="line"><span class="comment">#######################  REACT  中不允许用 == 两个等号  ####################################</span></div><div class="line"></div><div class="line"><span class="comment">###        const命令</span></div><div class="line">const声明一个只读的常量。一旦声明，常量的值就不能改变。</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">###  报错    中间又函数没传过去</span></div><div class="line"> _this3.props.onChange is not a <span class="keyword">function</span></div><div class="line">中途所有传数据的  传的函数都要传</div><div class="line">eg:	传3级</div><div class="line">	&lt;Index onChange=&#123;this.onchange&#125; /&gt;</div><div class="line">	&lt;TopMenu data = &#123;this.props.data&#125; onChange=&#123;this.props.onChange&#125;/&gt;</div><div class="line">	&lt;a onClick=&#123;()=&gt;this.props.onChange(v.id)&#125;&gt;&#123;v.name&#125;&lt;/a&gt;</div><div class="line"></div><div class="line"><span class="comment">###  报错    Array to string conversion</span></div><div class="line"><span class="built_in">echo</span>和<span class="built_in">print</span> 输出数组报错！<span class="built_in">echo</span> 和<span class="built_in">print</span>是输出字符串的。</div><div class="line">请使用var_dump,print_r</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">###  报错  </span></div><div class="line">数据库不要随便输出、</div><div class="line"></div><div class="line">不要 <span class="built_in">echo</span>  ok</div><div class="line"></div><div class="line">或print_r data，有可能返回到ajax,不认识</div><div class="line"></div><div class="line"><span class="comment">###   一般项目开发可嵌入 react.js   css.js  文件来开发</span></div><div class="line">   引入  react</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">###  浏览器  下载  sql </span></div><div class="line">直接 ctrl+s  保存为  .sql.txt   ，sql导入时直接导入就行  </div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">###  </span></div><div class="line">如果出现404页面 是路径问题   大小写问题</div><div class="line"></div><div class="line"><span class="comment">###   Error    Wraing</span></div><div class="line">1.注意所有用到 db的地方  大小写</div><div class="line">2.db 中的 public <span class="keyword">function</span> query(<span class="variable">$spl</span>) 没写</div><div class="line">3.  db   28 47行</div><div class="line">4.</div><div class="line"></div><div class="line">    <span class="function"><span class="title">onclick</span></span>()&#123;</div><div class="line">        $(<span class="string">''</span>)</div><div class="line">    &#125;</div><div class="line"></div><div class="line"><span class="comment">###    出不来页面：</span></div><div class="line">/view/</div><div class="line">改成APP/view/</div><div class="line">进了php的 <span class="keyword">function</span> <span class="function"><span class="title">index</span></span>()&#123; 中，print_r(123); 看一下，能不能出来123.&#125;</div><div class="line">如果还是没有，看看 include <span class="string">'APP/view/gameadmin.html'</span>; 这几个字对了没，核对文件夹里，</div><div class="line">是不是 gameadmin  写成 Gameadmin 了 。一般只有这个错误</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">###   git 组织</span></div><div class="line"></div><div class="line">1.右上角 git  +  最后一个  新组织</div><div class="line">2.创建新组织  账户 </div><div class="line">3.添加好友账户</div><div class="line">4.创建 文件 </div><div class="line">5.设置每个用户是owner.大家就可以上传了。</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">## 注意单词拼错 导致报错</span></div><div class="line"></div><div class="line"><span class="comment">###  注意 super报错</span></div><div class="line">class Logins extends React.Component   `不是ReactDOM `</div><div class="line">ReactDOM.render(&lt;Login/&gt;,document.querySelector(<span class="string">'#root'</span>));</div><div class="line"></div><div class="line"><span class="comment">###  数组对象 集</span></div><div class="line">console.table()</div><div class="line"></div><div class="line">在 db 中加入</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"> 3个JS 文件</div><div class="line">bowerser.min.js</div><div class="line">react-dom.js</div><div class="line">react.js</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">###    home.html</span></div><div class="line">    &lt;script src=<span class="string">"&lt;?php echo JS_PATH?&gt;browser.min.js"</span>&gt;&lt;/script&gt;</div><div class="line">    &lt;!-- 将ES6转成 ES5  加载完后会寻找 <span class="built_in">type</span>=<span class="string">"text/babel"</span> 的文件，解析，由babel调用jsx的数据，拿回齐数据转换，执行--&gt;</div><div class="line">    &lt;script src=<span class="string">"&lt;?php echo JS_PATH;?&gt;react.js"</span>&gt;&lt;/script&gt;</div><div class="line">    &lt;script src=<span class="string">"&lt;?php echo JS_PATH;?&gt;react-dom.js"</span>&gt;&lt;/script&gt;</div><div class="line">    &lt;script <span class="built_in">type</span>=<span class="string">"text/babel"</span>  src=<span class="string">"&lt;?php echo JS_PATH;?&gt;index.jsx"</span>&gt;&lt;/script&gt;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">###    jsx文件</span></div><div class="line">// 虚拟dom</div><div class="line">//解决比对问题，让页面更高效</div><div class="line">// render 渲染</div><div class="line"></div><div class="line">var data = [1, 2, 3, 4];</div><div class="line">var el = (</div><div class="line">    &lt;ul&gt;</div><div class="line">        &#123;data.map((v, i) =&gt; &lt;li key=&#123;i&#125;&gt;&#123;v&#125;&lt;/li&gt;)&#125;</div><div class="line">    &lt;/ul&gt;</div><div class="line">);</div><div class="line">ReactDOM.render(el, document.querySelector(<span class="string">'#root'</span>));</div><div class="line"></div><div class="line">setTimeout( () =&gt;&#123;</div><div class="line">var data = [1, 2];</div><div class="line">el = (</div><div class="line">    &lt;ul&gt;</div><div class="line">        &#123;data.map((v, i) =&gt; &lt;li key=&#123;i&#125;&gt;&#123;v&#125;&lt;/li&gt;)&#125;</div><div class="line">    &lt;/ul&gt;</div><div class="line">);</div><div class="line">ReactDOM.render(el, document.querySelector(<span class="string">'#root'</span>)); &#125;, 3000);</div><div class="line">//  render(虚拟dom对象,真实的DOM对象)   把虚拟dom转换为真实dom</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">#######################    20170713   #########################################</span></div><div class="line">  </div><div class="line">// 1. 虚拟DOM       //解决比对问题，让页面更高效</div><div class="line">const el = &lt;h1&gt;this is h1&lt;/h1&gt;;</div><div class="line">// 2. 虚拟DOM 之 组件</div><div class="line">// react.js     window.react</div><div class="line">// react-dom.js   window.reactdom</div><div class="line">// 3. 组件 -&gt; state</div><div class="line">// 4. 组件 -&gt; props</div><div class="line">// 5. 组件 -&gt; 生命周期    componentDidMount</div><div class="line">// 6. 组件 -&gt; 事件系统</div><div class="line">// 7. 多组件协作（如何拆分组件）</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">###   </span></div><div class="line"><span class="built_in">eval</span>(<span class="string">'2+3*4'</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">################################33################################33##############################</span></div><div class="line"></div><div class="line"><span class="comment">####################################  安装react app 环境  ######################################33</span></div><div class="line"></div><div class="line"><span class="comment">################################33################################33#############################</span></div><div class="line">npm install -g create-react-app   </div><div class="line">切换到桌面</div><div class="line">运行 create-react-app  <span class="built_in">test</span></div><div class="line">漫长的下载过程</div><div class="line"><span class="built_in">cd</span> <span class="built_in">test</span></div><div class="line">npm start</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">### 在 json语法中严格不能使用单引号</span></div><div class="line"><span class="comment">##  `网址`</span></div><div class="line">https://reacttraining.com/react-router/web/example/basic</div><div class="line"></div><div class="line"></div><div class="line">`注意错别字`</div><div class="line"></div><div class="line">在： npm react  <span class="built_in">test</span>里</div><div class="line">package.json 里</div><div class="line"></div><div class="line">npm install react-router-dom --save  `下载组件  Router Route Link`</div><div class="line">npm install swiper --save  `下载组件  Router Route Link`</div><div class="line"><span class="comment">###  ***"proxy":"http://192.168.3.55:80",***</span></div><div class="line"></div><div class="line">npm start</div><div class="line"></div><div class="line"><span class="comment">##### 引入jquery </span></div><div class="line">npm install jquery --save   `下载组件  jquery`</div><div class="line">import $ from <span class="string">'jquery'</span>;</div><div class="line">npm start</div><div class="line"></div><div class="line">`下载组件  antd zujian-------------------------///////////////////-----------------------////////`</div><div class="line">npm install antd --save  </div><div class="line"></div><div class="line"><span class="comment">#################  #################</span></div><div class="line"></div><div class="line">npm install wangeditor --save</div><div class="line"></div><div class="line"><span class="comment">###################     npm start之后有哪些工作        ###########</span></div><div class="line"></div><div class="line">npm start</div><div class="line"> 1.启动了一个本地服务器(webpack - dev - server)   (以前是apache)，</div><div class="line"> 2.自动打开浏览器，访问服务器地址 localhost:3000/ 时</div><div class="line">从index . js开始找到所有的 import 的资源</div><div class="line">bludle . json_encode</div><div class="line">......js</div><div class="line"></div><div class="line">public/index.html   写入上一步生成的js和css路径</div><div class="line">js. websockt serviceworker</div><div class="line"></div><div class="line">检测src下的所有文件，有任何变化，</div><div class="line">服务器用过websocket建立起来的长连接</div><div class="line">通知浏览器 （浏览器收到通知以后刷新页面）</div><div class="line"></div><div class="line"><span class="comment">#############################################################</span></div><div class="line">怎样上线：</div><div class="line"></div><div class="line">npm run build</div><div class="line"></div><div class="line">build/</div><div class="line">    index.html</div><div class="line">	xxx.js</div><div class="line">	xxx.css</div><div class="line">	img/.............</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">#########################################################################################</span></div><div class="line"></div><div class="line">直接输入</div><div class="line">`explorer http://www.baidu.com`</div><div class="line">就会打开百度</div><div class="line"></div><div class="line"> component=&#123;Search&#125;</div><div class="line"></div><div class="line"><span class="comment">#########################################################################################</span></div><div class="line">	antd 组件			https://ant.design/components/icon-cn/</div><div class="line"><span class="comment">########################################################################################</span></div><div class="line">看代码 ，看示例，分析代码</div><div class="line"><span class="comment">##  Icon 去Icon图标里取找</span></div><div class="line"></div><div class="line"><span class="comment">##　 布局</span></div><div class="line"><span class="comment">##  table 表格</span></div><div class="line">    columns   列     data  行</div><div class="line"></div><div class="line"><span class="comment">#########################################################################################</span></div><div class="line">ES6  箭头函数</div><div class="line"><span class="comment">#########################################################################################</span></div><div class="line">`</div><div class="line">const &#123;a,b,c,d&#125; = &#123;a:1,b:2,c:3,d:4&#125;</div><div class="line">const fn = (v)=&gt;&#123;console.log(v)&#125;</div><div class="line">const fn = (v)=&gt;&#123;</div><div class="line">    <span class="built_in">return</span> (</div><div class="line">        &lt;div&gt;this is h1&lt;/div&gt;</div><div class="line">    )</div><div class="line">&#125;;`</div><div class="line"></div><div class="line">const fn = (v)=&gt;（ v.id = id）</div><div class="line"></div><div class="line"><span class="comment">###  箭头函数</span></div><div class="line">class Admin1 extends React.Component &#123;</div><div class="line">    <span class="function"><span class="title">constructor</span></span>() &#123;</div><div class="line">        super();</div><div class="line">        this.state = &#123;</div><div class="line">            a: 1,</div><div class="line">            b: 2</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="title">render</span></span>() &#123;</div><div class="line"></div><div class="line">const &#123;a,b,c,d&#125; = &#123;a:1,b:2,c:3,d:4&#125;</div><div class="line">        const fn = (v)=&gt;&#123;console.log(v)&#125;</div><div class="line">        const fn = (v)=&gt;&#123;</div><div class="line">            <span class="built_in">return</span> (</div><div class="line">                &lt;div&gt;this is h1&lt;/div&gt;</div><div class="line">            )</div><div class="line">        &#125;;`</div><div class="line"></div><div class="line">        //解构赋值</div><div class="line">        const &#123;a, b&#125; = this.state;</div><div class="line">        // 对象展开</div><div class="line">        const o = &#123;x: 1, y: 2, z: 3 ,w:()=&gt;&#123;&#125;&#125;;</div><div class="line">        <span class="built_in">return</span> (</div><div class="line">            &lt;div&gt;</div><div class="line">                &lt;h1 &#123;...o&#125;&gt;自定义属性&lt;/h1&gt;</div><div class="line">            &lt;/div&gt;</div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">##################################</span></div><div class="line"></div><div class="line">改state，不要改props。</div><div class="line"></div><div class="line"><span class="comment">##########################################################################################</span></div><div class="line">							phpstrom编程字体</div><div class="line">consola</div><div class="line">monaco</div><div class="line">monosoace</div><div class="line"><span class="built_in">source</span></div><div class="line">menlo</div><div class="line">consolas</div><div class="line"></div><div class="line">vim 编辑</div><div class="line"></div><div class="line"><span class="comment">##########################################################################################</span></div><div class="line"></div><div class="line">上传图片    </div><div class="line"></div><div class="line">web-dev-server  服务器</div><div class="line"></div><div class="line">在百度云申请服务器：</div><div class="line"></div><div class="line">1.申请服务器</div><div class="line">2.gitclone </div><div class="line">3. 复制框架：    app					home.php</div><div class="line">									html      index.html</div><div class="line">4.              core				db.php</div><div class="line">5.              index.php</div><div class="line">6.              public</div><div class="line"></div><div class="line">用框架里的index.php替换掉这个<span class="built_in">clone</span>下的index.php</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">4.创一个.gitignore文件    忽略某些    </div><div class="line">在里面写`.idea/`  和文件的名字</div><div class="line"></div><div class="line">5.git add上去</div><div class="line"></div><div class="line">导出  database.sql    添加drop文件</div><div class="line"></div><div class="line">放在主文件目录下</div><div class="line"></div><div class="line">news 导出自定义 sql文件  </div><div class="line"></div><div class="line">百度云数据库导入文件和数据库</div><div class="line"></div><div class="line">修改db</div><div class="line"></div><div class="line"></div><div class="line">script:public/js/bundle.js</div><div class="line">home:index</div><div class="line"></div><div class="line"><span class="comment">###   npm run build</span></div><div class="line">1.改public下的东西，static替换public</div><div class="line">2.修改 /20170713/react/index.php/   改为  /  数据库路径</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">把 build 下的json\ico拷贝到根目录下</div><div class="line"></div><div class="line">public  改为 static</div><div class="line"></div><div class="line">重新git </div><div class="line"></div><div class="line">把后台出去</div><div class="line"><span class="comment">##########################################################################################</span></div><div class="line">md5(time());</div><div class="line"></div><div class="line"><span class="comment">##########################  改进3部曲</span></div><div class="line">1.改为： </div><div class="line">2.  - url : /</div><div class="line">    script: index.php</div><div class="line">  - url : /static/(.*)</div><div class="line">    static_files : static/<span class="variable">$1</span></div><div class="line">  - regex_url : ^/(.*)$</div><div class="line">    script : index.php/<span class="variable">$1</span></div><div class="line"></div><div class="line">2.页面拆分</div><div class="line">  home.php--&gt;index</div><div class="line">  admin.php--&gt;admin</div><div class="line"></div><div class="line"></div><div class="line">	npm run build     之后    </div><div class="line">3.替换</div><div class="line">fetch(<span class="string">"/index.php/</span></div><div class="line"><span class="string">fetch("</span>/</div><div class="line"></div><div class="line">4.import router  和  router</div><div class="line"></div><div class="line"><span class="comment">####  后台的修改</span></div><div class="line">5. 把后台生成的index.html名字改为admin.html，再放到百度云上传的文件中 </div><div class="line">6. 把后台的css\js的东西放进去 </div><div class="line"></div><div class="line"></div><div class="line">getNewsById  的<span class="built_in">limit</span>的修改</div><div class="line"></div><div class="line"><span class="comment">####  改到百度云的 数据库</span></div><div class="line">  <span class="string">"proxy"</span>: <span class="string">"http://localhost"</span>,</div><div class="line">name:<span class="string">'text'</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">####   下拉刷新代码   下滑刷新</span></div><div class="line">var neirong = document.querySelector(<span class="string">'.contentall'</span>);</div><div class="line"><span class="built_in">let</span> that = this;</div><div class="line">window.onscroll = <span class="function"><span class="title">function</span></span> () &#123;</div><div class="line">    <span class="keyword">if</span> (document.body.scrollTop &gt;= neirong.offsetHeight - window.innerHeight) &#123;</div><div class="line">        var page = that.state.page + 1;</div><div class="line">        console.log(page);</div><div class="line">        fetch(<span class="string">'/20170713/react/index.php/home/getNewsByPage?id='</span> + that.state.currentChannel + <span class="string">'&amp;page='</span> + page)</div><div class="line">            .<span class="keyword">then</span>(res =&gt; res.json())</div><div class="line">            .<span class="keyword">then</span>(r =&gt; that.setState(&#123;</div><div class="line">                o: that.state.o.concat(r),</div><div class="line">                page:page</div><div class="line">            &#125;))</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">###################        20170722     ###########################</span></div><div class="line"></div><div class="line">&lt;Route path=<span class="string">"/show/:id"</span> component=&#123;Show&#125;/&gt;  </div><div class="line">&#123;/*传入id*/&#125;</div><div class="line">show 组件中 iframe</div><div class="line">网址中 /show/assdfghj   /show/后边所有的(assdfghj) 都会传到:id中去</div><div class="line"></div><div class="line"></div><div class="line">上传图片到服务器</div><div class="line">   把http:localhost80改为   /static/upload</div><div class="line"></div><div class="line"></div><div class="line">  &lt;div dangerouslySetInnerHTML=&#123;&#123;__html:123&#125;&#125;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure>
      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:github.com/liujiang135/blog.git">
  </form>
</div>

  

  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2017/08/07/008_Fullpage 笔记/">008- Fullpage</a>
      </li>
    
      <li>
        <a href="/2017/08/07/007_vue/">007- VUE</a>
      </li>
    
      <li>
        <a href="/2017/08/07/006_nodeJs/">006- nodeJS</a>
      </li>
    
      <li>
        <a href="/2017/08/07/005_react/">005-react</a>
      </li>
    
      <li>
        <a href="/2017/08/07/004_PHP笔记/">004_PHP</a>
      </li>
    
  </ul>
</div>


  

  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  <p>
  
  &copy; 2017 Jiang
  
  All rights reserved.</p>
  <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</div>
<div class="clearfix"></div>

<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<div id='bg'></div>
</body>
</html>