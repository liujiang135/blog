<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  
  <title>vue | Jiang</title>
  <meta name="author" content="Jiang" />

  
  <meta name="description" content="mvvm 框架–比angular更小巧，文档阅读方便，全部组件化版本2.0
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <meta property="og:title" content="vue" />
  <meta property="og:site_name" content="Jiang" />

  
  

  
    <meta property="og:image" content="" />
  

  
  <link href="/blog/css/images/favicon.ico" rel="icon" />
  

  <link rel="alternate" href="/blog/atom.xml" title="Jiang" type="application/atom+xml">
  <link rel="stylesheet" href="/blog/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  


  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/blog/">Jiang</a></h1>
  <h2><a href="/blog/">I am a computer programmer</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/blog/">Home</a></li>
    
      <li><a href="/blog/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-08-10T10:37:36.204Z"><a href="/blog/2017/08/10/vue/">vue</a></time>
      
    </header>
    <div class="entry">
      
        <h2 id="mvvm-框架"><a href="#mvvm-框架" class="headerlink" title="mvvm 框架"></a>mvvm 框架</h2><p>–比angular更小巧，文档阅读方便，全部组件化<br>版本2.0</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div></pre></td><td class="code"><pre><div class="line">vue </div><div class="line">  指令以  v-xxx</div><div class="line">  一段html代码 加一个json  再new出一个vue实例</div><div class="line">  适合做移动端开发 比较小巧 </div><div class="line">  上手简单</div><div class="line">  </div><div class="line">  angular 适合pc 端开发</div><div class="line">   上手难 </div><div class="line">   指令一 ng-xxx</div><div class="line">   属性和方法都在<span class="variable">$scope</span>上</div><div class="line">  </div><div class="line">这两个都不兼容ie低版本ie8以下不兼容</div><div class="line"></div><div class="line">这两个都不兼容ie低版本ie8以下不兼容</div><div class="line"></div><div class="line">第一步 拿到vue 的 库文件</div><div class="line">     vue.min.js  最新的2.0以上版本</div><div class="line">                                </div><div class="line">                                思想： </div><div class="line">                                m 数据 data</div><div class="line">                                v  视图 html</div><div class="line">                                c  控制器 new vue()</div><div class="line">--------------------------------------</div><div class="line"></div><div class="line">vue的雏形</div><div class="line">   要求：展示一条数据</div><div class="line">     html：</div><div class="line">        &lt;div id=<span class="string">"box"</span>&gt;</div><div class="line">                  &#123;&#123;msg&#125;&#125;</div><div class="line">        &lt;/div&gt;</div><div class="line">   </div><div class="line">   js：</div><div class="line">    var c = new Vue(&#123;    new出Vue额对象</div><div class="line">              el:<span class="string">'#box'</span>, 选择器，和jquery一样</div><div class="line">              data:&#123; data里可以放字符串，json ，数组， 布尔，数字</div><div class="line">                              msg:<span class="string">'document'</span>   要展示的数据内容</div><div class="line">                              num:12,</div><div class="line">                              boor:<span class="literal">true</span></div><div class="line">                              .......</div><div class="line">              &#125;</div><div class="line">    &#125;);</div><div class="line">   注意： 这里的c是可以任意起名的，也可以不写，不写的话就是this。想要拿到里面的num的值，可以这样 this.data.num </div><div class="line">----------------------------------</div><div class="line">vue常用的指令</div><div class="line">      </div><div class="line">     v-model  一般放在表单元素上        双向数据绑定</div><div class="line">     </div><div class="line">     html</div><div class="line">        &lt;div id=<span class="string">"box"</span>&gt;</div><div class="line">                &lt;input <span class="built_in">type</span>=<span class="string">"text"</span> v-model=<span class="string">"msg"</span> /&gt;</div><div class="line">                &lt;input <span class="built_in">type</span>=<span class="string">"text"</span> v-model=<span class="string">"msg"</span> /&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">    v-repeat  循环</div><div class="line">     &lt;!--循环--&gt;</div><div class="line">             &lt;!--2.0版本后<span class="variable">$key</span>,<span class="variable">$index</span>,失效了？--&gt;</div><div class="line">             &lt;!--后来查阅了文档才知道，这是因为在Vue2.0中，v-for迭代语法已经发生了变化：</div><div class="line"></div><div class="line">                                        丢弃了:</div><div class="line">                                        </div><div class="line">                                        新数组语法 </div><div class="line">                                        value <span class="keyword">in</span> arr </div><div class="line">                                        (value, index) <span class="keyword">in</span> arr </div><div class="line">                                        </div><div class="line">                                        新对象语法 </div><div class="line">                                        value <span class="keyword">in</span> obj</div><div class="line">                                         (value, key) <span class="keyword">in</span> obj </div><div class="line">                                        (value, key, index) <span class="keyword">in</span> obj</div><div class="line">                        --&gt;</div><div class="line">                        html</div><div class="line">    &lt;div id=<span class="string">"box"</span> &gt;</div><div class="line">              &lt;ul&gt;</div><div class="line">                        &lt;li v-for=<span class="string">" (value, index)  in arr"</span>&gt;</div><div class="line">                                         &#123;&#123;value&#125;&#125; &#123;&#123;index&#125;&#125; </div><div class="line">                        &lt;/li&gt;</div><div class="line">                        &lt;hr /&gt;</div><div class="line">                        &lt;li v-for=<span class="string">'(key,value,index)  in json'</span>&gt;</div><div class="line">                                        &#123;&#123;value&#125;&#125;  &#123;&#123;key&#125;&#125; &#123;&#123;index&#125;&#125;</div><div class="line">                        &lt;/li&gt;</div><div class="line">              &lt;/ul&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">------------------------------------------------------------------</div><div class="line">     事件--- v-on</div><div class="line">         click</div><div class="line">var c = new Vue(&#123;</div><div class="line">          el:<span class="string">'#box'</span>,</div><div class="line">         data:&#123;</div><div class="line">                  arr:[<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'age'</span>],</div><div class="line">                  json:&#123;<span class="string">'a'</span>:11,<span class="string">'b'</span>:22,<span class="string">'c'</span>:33&#125;</div><div class="line">         &#125;,</div><div class="line">         methods:&#123; 事件方法到dethods里</div><div class="line">                 事件名:<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">                          alert(1)</div><div class="line">                          //要求弹出json的c的值</div><div class="line">                          alert(this.json.c)</div><div class="line">                 &#125;</div><div class="line">         &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">v-on:click = <span class="string">"事件名()"</span></div><div class="line">    ddlclick  mouseover mouseout ......</div><div class="line">==========</div><div class="line">深入：</div><div class="line">     v-on:click=<span class="string">"show()"</span>   一般是这样</div><div class="line">     @click=<span class="string">"show()"</span> 这是简写 建议用</div><div class="line">---</div><div class="line">    事件对象：</div><div class="line">      <span class="variable">$event</span>定死的，必须有$</div><div class="line">      @click(show(<span class="variable">$event</span>))</div><div class="line">      </div><div class="line">             methods:&#123;</div><div class="line">                    show:<span class="keyword">function</span>(ev,n)&#123;</div><div class="line">                            alert(ev.clientX)</div><div class="line">                            alert(n)//n也可以拿到</div><div class="line">                            //这里可以拿到事件对象，可以用原生写了</div><div class="line">                    &#125;</div><div class="line">            &#125;</div><div class="line">      &lt;input id=<span class="string">"btn"</span> <span class="built_in">type</span>=<span class="string">"button"</span> value=<span class="string">"按钮"</span> @click=<span class="string">"show(<span class="variable">$event</span>,3)"</span> /&gt;</div><div class="line">---</div><div class="line">  事件冒泡：</div><div class="line">            1.   ev.cancelBubble=<span class="literal">true</span>;</div><div class="line">                                                   事件对象 加 原生里的阻止冒泡方法cancelBubble=<span class="literal">true</span></div><div class="line">                                                2. @click.stop=<span class="string">"show()"</span>  火狐，谷歌支持，ie不测试</div><div class="line">                                                  直接在c事件后加stop</div><div class="line">                                                  </div><div class="line">        阻止事件默认行为：</div><div class="line">                 1. ev.preventDefaule=<span class="literal">true</span>;</div><div class="line">                                                        事件对象 加 原生里的阻止默认行为</div><div class="line">                                   2. @contextmenu.prevent=<span class="string">"show1()"</span></div><div class="line">                                   </div><div class="line">        键盘事件：</div><div class="line">              onkeydown onkeyup</div><div class="line">              ev.keycode   获取到键码</div><div class="line">             </div><div class="line">             也可以@keydown.enter=<span class="string">"show()"</span></div><div class="line">                                              up 上</div><div class="line">                                              left 左</div><div class="line">                                              常用键都封装了。字母没有</div><div class="line">                   等   方便快速</div><div class="line">                   </div><div class="line">                   </div><div class="line">                </div><div class="line">              </div><div class="line">              </div><div class="line">              </div><div class="line">-----------------------------------------</div><div class="line">显示隐藏</div><div class="line">  v-show</div><div class="line">  </div><div class="line">  v-show=<span class="string">'true/false'</span>; <span class="literal">true</span>是显示 <span class="literal">false</span>是隐藏</div><div class="line">  </div><div class="line">  要求点击一个按钮让一个对象隐藏：</div><div class="line">  html：</div><div class="line">       &lt;input <span class="built_in">type</span>=<span class="string">"button"</span> v-on:click=<span class="string">"a=false"</span>/&gt;</div><div class="line">       &lt;div v-show=<span class="string">'a'</span>&gt;&lt;/div&gt;</div><div class="line">       在data里设置a=<span class="literal">true</span>，意思就是刚开始是显示的 在点击按钮后把数据a变成<span class="literal">false</span>传给v-show</div><div class="line">       data&#123;</div><div class="line">         a:<span class="literal">true</span></div><div class="line">       &#125;</div><div class="line"></div><div class="line">要求点击一下隐藏再点一下显示依次往下走：</div><div class="line">   核心代码：</div><div class="line">        show:<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">             <span class="keyword">if</span>(this.a==<span class="literal">false</span>)&#123;</div><div class="line">                     this.a=<span class="literal">true</span>;</div><div class="line">             &#125;<span class="keyword">else</span>&#123;</div><div class="line">                     this.a=<span class="literal">false</span>;</div><div class="line">             &#125;</div><div class="line">         &#125;</div><div class="line">                </div><div class="line">         &lt;input <span class="built_in">type</span>=<span class="string">"button"</span> v-on:click=<span class="string">"show()"</span>/&gt;</div><div class="line">         写个方法判断a的值并且赋值</div><div class="line">         </div><div class="line">留言信息表例子思路        </div><div class="line">        数据第一，有数据vue自会给你渲染视图</div><div class="line">        1.v-on:click把input里的数据存到data里 再用v-for渲染（注意数据格式），在此之前在input上加v-model（把数据存在this上）</div><div class="line">        2.删除一个的时候需要拿到本条的index在data里删数据（一般是数组）。</div><div class="line">        3.删除全部需要存一个变量newIndex=index，这样在下面调用的时候就可以删除，详细看demo </div><div class="line">        </div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">==============================</div><div class="line">属性：</div><div class="line">    &lt;img src=<span class="string">"&#123;&#123;url&#125;&#125;"</span>/&gt;</div><div class="line">    &lt;img  v-bind：src=<span class="string">'url'</span>  /&gt;</div><div class="line">           简写  &lt;img :src=<span class="string">'url'</span> /&gt;</div><div class="line">           </div><div class="line">     v-bind 是vue专门绑定属性的</div><div class="line">   </div><div class="line">    &lt;!--&lt;img src=<span class="string">"&#123;&#123;url&#125;&#125;"</span> id=<span class="string">"img"</span>/&gt;--&gt;</div><div class="line">                &lt;!--属性数据中 被2.0丢弃这种写法 ，之前这样写会有效果但是会报404错，所以用以下这种方法：--&gt;</div><div class="line">                &lt;img v-bind:src=<span class="string">"url"</span> id=<span class="string">"img"</span>/&gt;</div><div class="line">    &lt;img :src=<span class="string">"url"</span> id=<span class="string">"img"</span> :width=<span class="string">'a'</span>/&gt;  </div><div class="line"></div><div class="line">特殊属性</div><div class="line">class</div><div class="line">       1. :class=[red,blue]  对应的是数据 </div><div class="line">                     data&#123;</div><div class="line">                           red:<span class="string">'red'</span>,</div><div class="line">                           blue<span class="string">'blue'</span></div><div class="line">                     &#125;</div><div class="line">       2. :class=<span class="string">"&#123;red:a,blue:b&#125;"</span> 对应的是 类名和数据</div><div class="line">                     data&#123;</div><div class="line">                           a:<span class="literal">true</span>,</div><div class="line">                           b:<span class="literal">false</span></div><div class="line">                     &#125;</div><div class="line">     3.   也可以吧json直接写到数据里，看起来更舒服-推荐</div><div class="line">           ：clsss=<span class="string">"json"</span>;</div><div class="line">           data&#123;</div><div class="line">                            json:&#123;</div><div class="line">                               red:<span class="literal">true</span>,</div><div class="line">                               blue:<span class="literal">false</span></div><div class="line">                            &#125;</div><div class="line">           &#125;</div><div class="line">==========</div><div class="line">  style 和class的用法一样</div><div class="line">       1.   :styel=[c,d];/.每一个样式都是一条json</div><div class="line">          data:&#123;</div><div class="line">               c:&#123;color:<span class="string">'red'</span>&#125;,</div><div class="line">               d:&#123;backgroundColor:<span class="string">'blue'</span>&#125;//复合样式用驼峰命名法</div><div class="line">          &#125;</div><div class="line">         </div><div class="line">   2. :style=&#123;json&#125;;</div><div class="line">       data:&#123;</div><div class="line">            json&#123;</div><div class="line">               color:<span class="string">"red"</span>,</div><div class="line">               background:<span class="string">"blue"</span></div><div class="line">            &#125;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">========================</div><div class="line">模版</div><div class="line">    http://www.cnblogs.com/jiangxiaobo/p/6068025.html</div><div class="line"></div><div class="line">  &#123;&#123;msg&#125;&#125;   数据双向绑定  数据更新模版也会跟着更新  </div><div class="line">   &#123;&#123;*msg&#125;&#125;  数据只绑定一次 数据更新不更新模版  已失效</div><div class="line">              &lt;p v-once&gt;&#123;&#123;msg&#125;&#125;&lt;/p&gt;</div><div class="line">                                &lt;!--之前是&#123;&#123;*msg&#125;&#125; 2.0 后 需要加v-once  作用是 添加一次性模版 不支持数据更新--&gt;</div><div class="line">  &#123;&#123;&#123;msg&#125;&#125;&#125;  数据转译输出 转成html  已失效</div><div class="line">              &lt;p v-html=<span class="string">'msg'</span>&gt;&#123;&#123;msg&#125;&#125;&lt;/p&gt;</div><div class="line">    新的指令 v-once  和 v-html  需要绑定数据 </div><div class="line">    </div><div class="line">    ==============</div><div class="line">vue2.0之前    过滤器</div><div class="line">        体统提供一些过滤器</div><div class="line">        &#123;&#123;msg| 过滤器1&#125;&#125;</div><div class="line">       &#123;&#123;msg| 过滤器1 | 过滤器2&#125;&#125;</div><div class="line">     常用的过滤器有</div><div class="line">           uppercase</div><div class="line">           lowercase</div><div class="line">           capitalize</div><div class="line">vue2.0之后废除过滤器，所以需要自己定义过滤器</div><div class="line">     语法：</div><div class="line">        Vue.filter(<span class="string">'过滤器名'</span>,<span class="function"><span class="title">function</span></span>()&#123;&#125;)</div><div class="line">    </div><div class="line">    例如首字母大写的过滤器这样写</div><div class="line">      &lt;div id=<span class="string">"app"</span>&gt;</div><div class="line">        &#123;&#123;message|uppercase&#125;&#125;</div><div class="line">    &lt;/div&gt;</div><div class="line">    </div><div class="line">    //过滤器</div><div class="line">    Vue.filter(<span class="string">'uppercase'</span>, <span class="keyword">function</span>(value) &#123;</div><div class="line">              <span class="keyword">if</span> (!value) &#123; <span class="built_in">return</span> <span class="string">''</span>&#125;</div><div class="line">              value = value.toString()</div><div class="line">              <span class="built_in">return</span> value.charAt(0).toUpperCase() + value.slice(1)</div><div class="line">    &#125;)</div><div class="line">    过滤器必须写在vue对象之前才会生效</div><div class="line">    var vm = new Vue(&#123;</div><div class="line">              el:<span class="string">'#app'</span>,</div><div class="line">              data: &#123;</div><div class="line">                message: <span class="string">'test'</span></div><div class="line">              &#125;</div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    -------------</div><div class="line">  常用过滤器 封装</div><div class="line">  </div><div class="line">     //全部大写</div><div class="line">Vue.filter(<span class="string">'Uppercase'</span>,<span class="keyword">function</span>(value)&#123;</div><div class="line">        <span class="keyword">if</span>(!value)&#123;<span class="built_in">return</span> <span class="string">''</span>&#125;</div><div class="line">        value = value.toString();</div><div class="line">        <span class="built_in">return</span> value.toUpperCase();</div><div class="line">&#125;)</div><div class="line">//全部小写</div><div class="line">Vue.filter(<span class="string">'lowercase'</span>,<span class="keyword">function</span>(value)&#123;</div><div class="line">        <span class="keyword">if</span>(!value)&#123;<span class="built_in">return</span> <span class="string">''</span>&#125;</div><div class="line">        value  = value.toString();</div><div class="line">        <span class="built_in">return</span> value.toLowerCase();</div><div class="line">&#125;)</div><div class="line">     //把时间戳转换成北京时间---1</div><div class="line">             Vue.filter(<span class="string">'time'</span>, <span class="keyword">function</span> (value) &#123;</div><div class="line">                                <span class="built_in">return</span> new Date(parseInt(value) * 1000).toLocaleString().replace(/年|月/g, <span class="string">"-"</span>).replace(/日/g, <span class="string">" "</span>);</div><div class="line">                            &#125;)</div><div class="line">                 //把时间戳转换成北京时间---2 比较麻烦了（原生）优点不依赖框架</div><div class="line">                    Vue.filter(<span class="string">'time'</span>,<span class="keyword">function</span>(value)&#123;</div><div class="line">                                                        <span class="keyword">function</span> toDou(n)&#123;</div><div class="line">                                                                      <span class="built_in">return</span> n&lt;10?<span class="string">'0'</span>+n:<span class="string">''</span>+n;</div><div class="line">                                                            &#125;</div><div class="line">                                  var oDate = new Date(value*1000);</div><div class="line">                                 <span class="built_in">return</span> oDate.getFullYear()+<span class="string">'-'</span></div><div class="line">                                 +toDou(oDate.getMonth()+1)+<span class="string">'-'</span></div><div class="line">                                 +toDou(oDate.getDate())+<span class="string">' '</span></div><div class="line">                                 +toDou(oDate.getHours())+<span class="string">':'</span></div><div class="line">                                 +toDou(oDate.getMinutes())+<span class="string">':'</span></div><div class="line">                                 +toDou(oDate.getSeconds());</div><div class="line">                        &#125;)</div><div class="line">       //补零</div><div class="line">               Vue.filter(<span class="string">'todou'</span>, <span class="keyword">function</span> (n) &#123;</div><div class="line">                                        <span class="built_in">return</span> n&lt;10?<span class="string">'0'</span>+n:<span class="string">''</span>+n;</div><div class="line">                            &#125;)</div><div class="line">     ----------------</div><div class="line"></div><div class="line">==================================</div><div class="line"></div><div class="line">交互</div><div class="line">     本身vue.js不提供交互，需要引vue的交互模块</div><div class="line">                                    vue-resource.min.js</div><div class="line">                                    </div><div class="line">    get</div><div class="line">                获取数据                                </div><div class="line">methods:&#123;</div><div class="line">        show:<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">                  this.<span class="variable">$http</span>.get(<span class="string">'22.txt'</span>).<span class="keyword">then</span>(<span class="keyword">function</span>(res)&#123;</div><div class="line">                             alert(res.data)</div><div class="line">                  &#125;,<span class="keyword">function</span>(res)&#123;</div><div class="line">                            alert(res.status)</div><div class="line">                  &#125;)</div><div class="line">        &#125;</div><div class="line">&#125;</div><div class="line">2.0 之后get发送数据貌似不好使，没深究，用post就行了 ----不使用min版js就行</div><div class="line"></div><div class="line">发送数据</div><div class="line">post </div><div class="line">    methods:&#123;</div><div class="line">            show:<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">                      this.<span class="variable">$http</span>.post(<span class="string">'get.php'</span>,&#123;</div><div class="line">                              a:2,  //参数 json 发送数据</div><div class="line">                              b:3</div><div class="line">                      &#125;,&#123;</div><div class="line">                              emulateJSON:<span class="literal">true</span>//加个声明</div><div class="line">                      &#125;).<span class="keyword">then</span>(<span class="keyword">function</span>(res)&#123;</div><div class="line">                                 alert(res.data)</div><div class="line">                      &#125;,<span class="keyword">function</span>(res)&#123;</div><div class="line">                                alert(res.status)</div><div class="line">                      &#125;)</div><div class="line">            &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">jsonp</div><div class="line">          &lt;!--</div><div class="line">          vue-resource.min.js         不能用于jsonp 还有 连接php文件时有问题</div><div class="line">          请使用 vue-resource.js        太坑了 以后再也不用min版了。</div><div class="line">          --&gt;</div><div class="line">获取接口</div><div class="line"></div><div class="line">https://sug.so.360.cn/suggest?word=a              好搜的接口</div><div class="line">https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=    百度</div><div class="line"></div><div class="line">js:</div><div class="line">methods:&#123;</div><div class="line">        show:<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">                  this.<span class="variable">$http</span>.jsonp(<span class="string">'https://sug.so.360.cn/suggest'</span>,&#123; //接口末尾不能有空格</div><div class="line">                        word:<span class="string">'a'</span>  //搜索的内容          </div><div class="line">                  &#125;).<span class="keyword">then</span>(<span class="keyword">function</span>(res)&#123;</div><div class="line">                            console.log(res.data.s)</div><div class="line">                  &#125;,<span class="keyword">function</span>(res)&#123;</div><div class="line">                            alert(res.status)</div><div class="line">                  &#125;)</div><div class="line">        &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:liujiang135.github.io/blog">
  </form>
</div>

  

  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/blog/2017/08/10/vue/">vue</a>
      </li>
    
      <li>
        <a href="/blog/2017/08/07/008_Fullpage 笔记/">008- Fullpage</a>
      </li>
    
      <li>
        <a href="/blog/2017/08/07/007_vue/">007- VUE</a>
      </li>
    
      <li>
        <a href="/blog/2017/08/07/006_nodeJs/">006- nodeJS</a>
      </li>
    
      <li>
        <a href="/blog/2017/08/07/005_react/">005-react</a>
      </li>
    
  </ul>
</div>


  

  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  <p>
  
  &copy; 2017 Jiang
  
  All rights reserved.</p>
  <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</div>
<div class="clearfix"></div>

<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script></footer>
  <script src="/blog/js/jquery.imagesloaded.min.js"></script>
<script src="/blog/js/gallery.js"></script>


<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<div id='bg'></div>
</body>
</html>